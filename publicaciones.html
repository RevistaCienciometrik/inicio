<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Publicaciones</title>
    <link rel="stylesheet" href="CSS/styles.css">
</head>
<body>
    <mi-header id="top"></mi-header>
    <div class="container">
<main class="main-content">
    <div class="image-container" id="img">
        <img src="images/estreno-2-julio-2025.png" alt="Próximamente-img" class="soon-image">
    </div>
<!-- -------------------------------------------------------------------------------------------------- -->
<!-- SECCIÓN DE VOLÚMENES -->
        <!-- ULTIMO VOLUMEN -->
<section id="ultimo-volumen" class="section nuevo-volumen-section">
    <h2>ÚLTIMO VOLÚMEN</h2>
    <div class="volumenes-container">
            <div class="volumen">
            <div class="revista-portada">
            <img src="Docs/UltimoVolumen/Revista Cienciometrik Vol. 3 N° 4, Enero - Julio.png" alt="Imagen de la revista" class="revista-imagen">
            <h1 class="revista-nombre">Cienciometrik</h1>
            <p class="revista-volumen">Volúmen 3, Número 4, Enero - Julio 2025</p>
                </div>
                <br>
            <p>El último volúmen de la Revista con artículos de investigación y resultados del semillero ICI.</p>
            <div class="descarga-info">
                <a href="Docs/UltimoVolumen/Revista Cienciometrik Vol. 3 N° 4, Enero - Julio.pdf" target="_blank" data-volume-id="volumen-3-4">Descargar PDF</a>
                <p>ISSN: 2981-5533</p>
                <p>Descargas: <span id="downloads-volumen-3-4" class="download-count">0</span></p>
            </div>
                                        <br>
            <h3>Repositorio del volúmen - Sena</h3>
            <p>Aquí podrás descargar el volúmen directamente del repositorio del SENA.</p>
            <div class="descarga-info">
                <a href="https://repositorio.sena.edu.co/handle/11404/8643" target="_blank" data-volume-id="sena-volumen-3">Volúmen 3</a>
            </div>
        </div>
    </div>
</section>
<!-- -------------------------------------------------------------------------------------------------- -->
<!-- vol 1-3 -->
<section id="volumenes" class="section">
    <h2>Publicaciones de la Revista</h2>
    <div class="volumenes-container">
        <div class="volumen">
            <div class="revista-portada">
            <img src="images/Revista_CienciometriK_1_1-3.png" alt="Imagen de la revista" class="revista-imagen">
            <h1 class="revista-nombre">Cienciometrik</h1>
            <p class="revista-volumen">Volúmen 1, Número 1-3</p>
            </div>
            <p>Este volúmen incluye artículos de investigación y ponencias del 1er Simposio Nacional de Cienciometría.</p>
            <div class="descarga-info">
                <a href="Docs/Revista_CienciometriK_1_1-3.pdf" target="_blank" data-volume-id="volumen-1-1-3">Descargar PDF</a>
                <p>ISSN: 2981-5533</p>
                <p>Descargas: <span id="downloads-volumen-1-1-3" class="download-count">0</span></p>
            </div>
                <br>
            <h3>Repositorio del volúmen - Sena</h3>
            <p>Aquí podrás descargar el volúmen directamente del repositorio del SENA.</p>
            <div class="descarga-info">
                <a href="https://repositorio.sena.edu.co/handle/11404/8135?locale-attribute=es" target="_blank" data-volume-id="sena-volumen-1">Volúmen 1</a>
            </div>
        </div>
<!--  vol 2 - 2  -->
        <div class="volumen">
            <div class="revista-portada">
            <img src="images/REVISTA CIENCIOMETRIK_VOLUMEN 2 N° 2 - ENERO - JUNIO - 2024.png" alt="Imagen de la revista" class="revista-imagen">
            <h1 class="revista-nombre">Cienciometrik</h1>
            <p class="revista-volumen">Volúmen 2, Número 2, enero - junio 2024</p>
                </div>
            <p>Este volúmen contiene artículos sobre tecnologías e inteligencia artificial, mipymes, economía circular, inclusión y más.</p>
            <div class="descarga-info">
                <a href="Docs/REVISTA CIENCIOMETRIK_VOLUMEN 2 N° 2 - ENERO - JUNIO - 2024.pdf" target="_blank" data-volume-id="volumen-2-2">Descargar PDF</a>
                <p>ISSN: 2981-5533</p>
                <p>Descargas: <span id="downloads-volumen-2-2" class="download-count">0</span></p>
            </div>
                            <br>
            <h3>Repositorio del volúmen - Sena</h3>
            <p>Aquí podrás descargar el volúmen directamente del repositorio del SENA.</p>
            <div class="descarga-info">
                <a href="https://repositorio.sena.edu.co/handle/11404/8483" target="_blank" data-volume-id="sena-volumen-2">Volúmen 2</a>
            </div>
        </div>
<!-- vol 2 - 3 -->
        <div class="volumen">
            <div class="revista-portada">
            <img src="images/Revista CienciometriK_Vol. 2 N°. 3 2024.png" alt="Imagen de la revista" class="revista-imagen">
            <h1 class="revista-nombre">Cienciometrik</h1>
            <p class="revista-volumen">Volúmen 2, Número 3, julio - diciembre 2024</p>
                </div>
                <br>
            <p>El tercer volúmen de la revista con artículos de investigación y resultados del semillero ICI.</p>
            <div class="descarga-info">
                <a href="Docs/Revista CienciometriK_Vol. 2 N°. 3 2024.pdf" target="_blank" data-volume-id="volumen-2-3">Descargar PDF</a>
                <p>ISSN: 2981-5533</p>
                <p>Descargas: <span id="downloads-volumen-2-3" class="download-count">0</span></p>
            </div>
                                        <br>
            <h3>Repositorio del volúmen - Sena</h3>
            <p>Aquí podrás descargar el volúmen directamente del repositorio del SENA.</p>
            <div class="descarga-info">
                <a href="https://repositorio.sena.edu.co/handle/11404/8643" target="_blank" data-volume-id="sena-volumen-3">Volúmen 3</a>
            </div>
        </div>
    </div>
</section>
<!-- ------------------------------------------------------------------------------------------------ -->
<!-- SECCIÓN LIBROS  -->
<section id="libros" class="section">
    <h2>Libros</h2>
    <div class="volumenes-container">
    
 <!-- LIBRO 1 -->
        <div class="volumen">
            <div class="revista-portada"><br>
            <img src="Docs/libros/Libro1.jpg" alt="Imagen de la cartilla" class="revista-imagen">
            <h1 class="revista-nombre">Libro 1 ejemplo</h1>
            <p class="revista-volumen">Lorem text</p> <BR>
            </div>
            <p></p>
            <div class="descarga-info">
                <a href="Docs/libros/1 Paleta de colores utilizada - Revista Cienciometrik.pdf" target="_blank" data-volume-id="libro-1">Descargar PDF</a>
                <p></p>
                <p>Descargas: <span id="downloads-libro-1" class="download-count">0</span></p>
            </div>
                <br>
            <h3>Repositorio del volúmen - Sena</h3>
            <p>Aquí podrás descargar el volúmen directamente del repositorio del SENA.</p>
            <div class="descarga-info">
                <a href="https://repositorio.sena.edu.co/handle/11404/7863" target="_blank" data-volume-id="sena-libro-1">Libro</a>
            </div>
        </div>
<!-- LIBRO 2 -->
        <div class="volumen">
            <div class="revista-portada">
            <img src="Docs/libros/libro 2.png" alt="Imagen de la cartilla" class="revista-imagen">
            <h1 class="revista-nombre">Libro 2 ejemplo</h1>
            <p class="revista-volumen">Lorem text</p> <br>
            </div>
            <p></p>
            <div class="descarga-info">
                <a href="Docs/libros/2 Paleta de colores utilizada - Revista Cienciometrik - copia.pdf" target="_blank" data-volume-id="libro-2">Descargar PDF</a>
                <p></p>
                <p>Descargas: <span id="downloads-libro-2" class="download-count">0</span></p>
            </div>
                <br>
            <h3>Repositorio del volúmen - Sena</h3>
            <p>Aquí podrás descargar el volúmen directamente del repositorio del SENA.</p>
            <div class="descarga-info">
                <a href="https://repositorio.sena.edu.co/handle/11404/8644" target="_blank" data-volume-id="sena-libro-2">Libro</a>
            </div>
        </div>
        <BR></BR>
<!-- FIN DE LA SECCIÓN DE LIBROS -->
    </div>
</section>
<!-- ------------------------------------------------------------------------------------------------ -->
<!-- SECCIÓN CARTILLAS SERVITIZACIÓN E INCLUSIÓN  -->
<section id="cartillas" class="section">
    <h2>Cartillas Digitales</h2>
    <div class="volumenes-container">
    
<!-- SECCIÓN CARTILLAS INCLUSIÓN  -->
 <!-- CARTILLA 1 -->
        <div class="volumen">
            <div class="revista-portada">
            <img src="Docs/Cartillas inclusion/Cartilla_digital_de_comunicacion_para_la_inclusion.png" alt="Imagen de la cartilla" class="revista-imagen">
            <h1 class="revista-nombre">Cartilla digital de comunicación para la inclusión</h1>
            <p class="revista-volumen">PROVECTO DE INVESTIGACIÓN "HERRAMIENTAS WEB DE COMUNICACIÓN PARA, LA INCLUSIÓN LABORAL DE APRENDICES SORDOS"</p> <BR>
            </div>
            <p></p>
            <div class="descarga-info">
                <a href="Docs/Cartillas inclusion/Cartilla_digital_de_comunicacion_para_la_inclusion.pdf" target="_blank" data-volume-id="cartilla-inclusion-1">Descargar PDF</a>
                <p></p>
                <p>Descargas: <span id="downloads-cartilla-inclusion-1" class="download-count">0</span></p>
            </div>
                <br>
            <h3>Repositorio del volúmen - Sena</h3>
            <p>Aquí podrás descargar el volúmen directamente del repositorio del SENA.</p>
            <div class="descarga-info">
                <a href="https://repositorio.sena.edu.co/handle/11404/7863" target="_blank" data-volume-id="sena-cartilla-inclusion-1">Cartilla</a>
            </div>
        </div>
<!-- CARTILLA 2 -->
        <div class="volumen">
            <div class="revista-portada">
            <img src="Docs/Cartillas inclusion/Cartilla Sena Me enseña_Comunicación inclusiva para la educación y el empleo_2024 2.png" alt="Imagen de la cartilla" class="revista-imagen">
            <h1 class="revista-nombre">Comunicación inclusiva para la educación y el empleo 2024-2</h1>
            <p class="revista-volumen">PROYECTO DE INVESTIGACIÓN "SENA ME ENSEÑA: INCLUSIÓN EMPRESARIAL DE PERSONAS SORDAS"</p> <br>
            </div>
            <p></p>
            <div class="descarga-info">
                <a href="Docs/Cartillas inclusion/Cartilla Sena Me enseña_Comunicación inclusiva para la educación y el empleo_2024 2.pdf" target="_blank" data-volume-id="cartilla-inclusion-2">Descargar PDF</a>
                <p></p>
                <p>Descargas: <span id="downloads-cartilla-inclusion-2" class="download-count">0</span></p>
            </div>
                <br>
            <h3>Repositorio del volúmen - Sena</h3>
            <p>Aquí podrás descargar el volúmen directamente del repositorio del SENA.</p>
            <div class="descarga-info">
                <a href="https://repositorio.sena.edu.co/handle/11404/8644" target="_blank" data-volume-id="sena-cartilla-inclusion-2">Cartilla</a>
            </div>
        </div>
<!-- ESTOS ESPACIO ENTRE LA 2 Y LA 3, ESTILIZAN EL ESPACIO DE LAS CARTILLAS -->
<br><br> 
<!-- SECCIÓN CARTILLAS SERVITIZACIÓN -->
 <!-- CARTILLA 3 -->
        <div class="volumen">
            <div class="revista-portada">
            <img src="Docs/cartillas servitización/Cartilla - Servitización y estrategias de mercado - Personalizando productos y servicios para la competitividad.png" alt="Imagen de la cartilla" class="revista-imagen">
            <h1 class="revista-nombre">Cartilla - Servitización y estrategias de mercado - Personalizando productos y servicios para la competitividad</h1>
            <p class="revista-volumen">PROYECTO DE INVESTIGACIÓN "SERVISER: SERVITIZACIÓN PARA LA SOSTENIBILIDAD DE LA ECONOMIA POPULAR Y CAMPESINA"</p> <br>
            </div>
            <p></p>
            <div class="descarga-info">
                <a href="Docs/cartillas servitización/Cartilla - Servitización y estrategias de mercado - Personalizando productos y servicios para la competitividad.pdf" target="_blank" data-volume-id="cartilla-servitizacion-1">Descargar PDF</a>
                <p>SGPS-12518-2024</p>
                <p>Descargas: <span id="downloads-cartilla-servitizacion-1" class="download-count">0</span></p>
            </div>
                <br>
            <h3>Repositorio del volúmen - Sena</h3>
            <p>Aquí podrás descargar el volúmen directamente del repositorio del SENA.</p>
            <div class="descarga-info">
                <a href="https://repositorio.sena.edu.co/handle/11404/8645" target="_blank" data-volume-id="sena-cartilla-servitizacion-1">Cartilla</a>
            </div>
        </div>
<!-- ---------------------------- -->
 <!-- CARTILLA 4 -->
        <div class="volumen">
            <div class="revista-portada">
            <img src="Docs/cartillas servitización/Cartilla Servitizacion_produccion_comercializacion.png" alt="Imagen de la cartilla" class="revista-imagen">
            <h1 class="revista-nombre">Cartilla Servitizacion, produccion, comercializacion</h1> <br>
            <p class="revista-volumen">PROVECTO DE INVESTIGACION "DISENO DE UN LABORATORIO WEB DE SERVITIZACION EMPRESARIAL V SOSTENIBILIDAD PARA MIPVMES DEL SECTOR COMERCIO, LOGÍSTICA V VENTAS DEL VALLE DE ABURRÁ"</p> <br> <br>
            <br>
            </div>
            <p></p>
            <div class="descarga-info">
                <a href="Docs/cartillas servitización/Cartilla Servitizacion_produccion_comercializacion.pdf" target="_blank" data-volume-id="cartilla-servitizacion-2">Descargar PDF</a>
                <p>SGPS-10439-2023</p>
                <p>Descargas: <span id="downloads-cartilla-servitizacion-2" class="download-count">0</span></p>
            </div>
                <br>
            <h3>Repositorio del volúmen - Sena</h3>
            <p>Aquí podrás descargar el primer volúmen directamente del repositorio del SENA.</p>
            <div class="descarga-info">
                <a href="https://repositorio.sena.edu.co/handle/11404/8468" target="_blank" data-volume-id="sena-cartilla-servitizacion-2">Cartilla</a>
            </div>
        </div>
        
<!-- FIN DE LA SECCIÓN DE CARTILLAS -->
    </div>
</section>
<!-- ------------------------------------------------------------------------------------------------ -->
<!-- SECCIÓN DE INFORMES   -->
<section id="informes" class="section">
    <h2>Informes</h2>
    <div class="volumenes-container">
<!--------------- INFORMES DE VIGILANCIA TEGNOLOGICA ------------------->
 <!-- informe de vigilancia tecnológica 1 -->
        <div class="volumen">
            <div class="revista-portada"><br>
            <img src="Docs/informes de vigilancia tecnológica/informe1.png" alt="Imagen del informe" class="revista-imagen">
            <h1 class="revista-nombre">Informe de vigilancia tecnológica 1 ejemplo</h1>
            <p class="revista-volumen">Lorem text</p> <BR>
            </div>
            <p></p>
            <div class="descarga-info">
                <a href="Docs/informes de vigilancia tecnológica/GFPI-F-153FormatoboletindevigilanciatecnologicadelproyectoproductivobajoenfoqueIDi.docx" target="_blank" data-volume-id="informe-vigilancia-1">Descargar</a>
                <p></p>
                <p>Descargas: <span id="downloads-informe-vigilancia-1" class="download-count">0</span></p>
            </div>
                <br>
            <h3>Repositorio del volúmen - Sena</h3>
            <p>Aquí podrás descargar el volúmen directamente del repositorio del SENA.</p>
            <div class="descarga-info">
                <a href="https://repositorio.sena.edu.co/handle/11404/7863" target="_blank" data-volume-id="sena-informe-vigilancia-1">Informe</a>
            </div>
        </div>
 <!-- informe de vigilancia tecnológica 2 -->
        <div class="volumen">
            <div class="revista-portada"> <BR>
            <img src="Docs/informes de vigilancia tecnológica/informe2.png" alt="Imagen del informe" class="revista-imagen">
            <h1 class="revista-nombre">Informe de vigilancia tecnológica 2 ejemplo</h1>
            <p class="revista-volumen">Lorem text</p> <br>
            </div>
            <p></p>
            <div class="descarga-info">
                <a href="Docs/informes de vigilancia tecnológica/2-ivt.docx" target="_blank" data-volume-id="informe-vigilancia-2">Descargar</a>
                <p></p>
                <p>Descargas: <span id="downloads-informe-vigilancia-2" class="download-count">0</span></p>
            </div>
                <br>
            <h3>Repositorio del volúmen - Sena</h3>
            <p>Aquí podrás descargar el volúmen directamente del repositorio del SENA.</p>
            <div class="descarga-info">
                <a href="https://repositorio.sena.edu.co/handle/11404/8644" target="_blank" data-volume-id="sena-informe-vigilancia-2">Informe</a>
            </div>
        </div>
        <br>
<!--------------- INFORMES DE ESTAPA PRODUCTIVA ------------------->
 <!-- Informe de etapa productiva 1 -->
<div class="volumen">
            <div class="revista-portada"><br>
            <img src="Docs/informes de etapa productiva/informe1.png" alt="Imagen del informe" class="revista-imagen">
            <h1 class="revista-nombre">Informe de etapa productiva 1 ejemplo</h1>
            <p class="revista-volumen">Lorem text</p> <BR>
            </div>
            <p></p>
            <div class="descarga-info">
                <a href="Docs/informes de etapa productiva/Formato Informe final EP.docx" target="_blank" data-volume-id="informe-etapa-1">Descargar</a>
                <p></p>
                <p>Descargas: <span id="downloads-informe-etapa-1" class="download-count">0</span></p>
            </div>
                <br>
            <h3>Repositorio del volúmen - Sena</h3>
            <p>Aquí podrás descargar el volúmen directamente del repositorio del SENA.</p>
            <div class="descarga-info">
                <a href="https://repositorio.sena.edu.co/handle/11404/7863" target="_blank" data-volume-id="sena-informe-etapa-1">Informe</a>
            </div>
        </div>
 <!-- Informe de etapa productiva 2 -->
        <div class="volumen">
            <div class="revista-portada"> <BR>
            <img src="Docs/informes de etapa productiva/informe2.png" alt="Imagen del informe" class="revista-imagen">
            <h1 class="revista-nombre">Informe de etapa productiva 2 ejemplo</h1>
            <p class="revista-volumen">Lorem text</p> <br>
            </div>
            <p></p>
            <div class="descarga-info">
                <a href="Docs/informes de etapa productiva/2-Informe final EP.docx" target="_blank" data-volume-id="informe-etapa-2">Descargar</a>
                <p></p>
                <p>Descargas: <span id="downloads-informe-etapa-2" class="download-count">0</span></p>
            </div>
                <br>
            <h3>Repositorio del volúmen - Sena</h3>
            <p>Aquí podrás descargar el volúmen directamente del repositorio del SENA.</p>
            <div class="descarga-info">
                <a href="https://repositorio.sena.edu.co/handle/11404/8644" target="_blank" data-volume-id="sena-informe-etapa-2">Informe</a>
            </div>
        </div>
        <br>
<!--------------- INFORMES DE PROYECTOS DE INVESTIGACIÓN ------------------->
<!-- informe de proyectos de investigación 1 -->
<div class="volumen">
            <div class="revista-portada"><br>
            <img src="Docs/informes de proyectos de investigación/informe1.png" alt="Imagen del informe" class="revista-imagen">
            <h1 class="revista-nombre">Informe de proyectos de investigación 1 ejemplo</h1>
            <p class="revista-volumen">Lorem text</p> <BR>
            </div>
            <p></p>
            <div class="descarga-info">
                <a href="Docs/informes de proyectos de investigación/INFORME DE PROYECTO DE INVESTIGACIÓN.docx" target="_blank" data-volume-id="informe-proyecto-1">Descargar</a>
                <p></p>
                <p>Descargas: <span id="downloads-informe-proyecto-1" class="download-count">0</span></p>
            </div>
                <br>
            <h3>Repositorio del volúmen - Sena</h3>
            <p>Aquí podrás descargar el volúmen directamente del repositorio del SENA.</p>
            <div class="descarga-info">
                <a href="https://repositorio.sena.edu.co/handle/11404/7863" target="_blank" data-volume-id="sena-informe-proyecto-1">Informe</a>
            </div>
        </div>
<!-- informe de proyectos de investigación 2 -->
        <div class="volumen">
            <div class="revista-portada"> <BR>
            <img src="Docs/informes de proyectos de investigación/informe2.png" alt="Imagen del informe" class="revista-imagen">
            <h1 class="revista-nombre">Informe de proyectos de investigación 2 ejemplo</h1>
            <p class="revista-volumen">Lorem text</p> <br>
            </div>
            <p></p>
            <div class="descarga-info">
                <a href="Docs/informes de proyectos de investigación/2-INFORME DE PROYECTO DE INVESTIGACIÓN.docx" target="_blank" data-volume-id="informe-proyecto-2">Descargar</a>
                <p></p>
                <p>Descargas: <span id="downloads-informe-proyecto-2" class="download-count">0</span></p>
            </div>
                <br>
            <h3>Repositorio del volúmen - Sena</h3>
            <p>Aquí podrás descargar el volúmen directamente del repositorio del SENA.</p>
            <div class="descarga-info">
                <a href="https://repositorio.sena.edu.co/handle/11404/8644" target="_blank" data-volume-id="sena-informe-proyecto-2">Informe</a>
            </div>
        </div>
<!-- FIN DE LA SECCIÓN DE INFORMES -->
    </div>
</section>
<!-- ------------------------------------------------------------------------------------------------ -->
    
</main>
<metricas-panel></metricas-panel>
</div>
        
    <mi-footer id="bottom"></mi-footer>
    
    <!-- Botón para reiniciar contadores individuales -->
    <div class="reset-individual-container">
        <button id="reset-individual-counters" class="reset-button">Reiniciar Contadores Individuales</button>
    </div>
    <!-- Firebase SDK para métricas base de datos en firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    
    <script src="js/panelmetricas.js"></script>
    <script src="Objects/header.js"></script>
    <script src="Objects/container.js"></script>
    <script src="Objects/footer.js"></script>
    <script src="Objects/script.js"></script>
    
 <!-- Script para inicializar y manejar contadores individuales con Firebase -->
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // Verificar si Firebase está inicializado
        if (typeof firebase === 'undefined') {
            console.error("Firebase no está inicializado. Asegúrate de que panelmetricas.js se carga primero.");
            // Fallback a localStorage si Firebase no está disponible
            initializeWithLocalStorage();
            return;
        }

        try {
            const db = firebase.firestore();
            const countersCollection = 'individual_counters';

            // Función para obtener el contador de Firestore
            const getCounter = async (counterId) => {
                try {
                    const docRef = db.collection(countersCollection).doc(counterId);
                    const doc = await docRef.get();
                    
                    if (doc.exists) {
                        return doc.data().count || 0;
                    } else {
                        // Si no existe, lo creamos con count=0
                        await docRef.set({ count: 0 });
                        return 0;
                    }
                } catch (error) {
                    console.error("Error al obtener el contador:", error);
                    return 0;
                }
            };

            // Función para incrementar el contador en Firestore
            const incrementCounter = async (counterId) => {
                try {
                    const docRef = db.collection(countersCollection).doc(counterId);
                    // Usamos una transacción para asegurar la atomicidad
                    await db.runTransaction(async (transaction) => {
                        const doc = await transaction.get(docRef);
                        let newCount = 1; // valor por defecto si no existe
                        
                        if (doc.exists) {
                            newCount = (doc.data().count || 0) + 1;
                        }
                        
                        transaction.set(docRef, { count: newCount });
                    });
                    
                    return true;
                } catch (error) {
                    console.error("Error al incrementar el contador:", error);
                    return false;
                }
            };

            // Función para reiniciar un contador a 0
            const resetCounter = async (counterId) => {
                try {
                    await db.collection(countersCollection).doc(counterId).set({ count: 0 });
                    return true;
                } catch (error) {
                    console.error("Error al reiniciar el contador:", error);
                    return false;
                }
            };

            // Inicializar contadores individuales al cargar la página
            const initializeCounters = async () => {
                const individualCounters = document.querySelectorAll('.download-count');
                
                // Creamos un array de promesas para obtener todos los contadores
                const promises = [];
                individualCounters.forEach(counter => {
                    const counterId = counter.id.replace('downloads-', ''); // Quitamos el prefijo "downloads-"
                    promises.push(getCounter(counterId).then(count => {
                        counter.textContent = count;
                    }));
                });
                
                // Esperamos a que todas las promesas se resuelvan
                await Promise.all(promises);
            };

            // Ejecutar la inicialización
            initializeCounters().catch(error => {
                console.error("Error al inicializar los contadores:", error);
                initializeWithLocalStorage(); // Fallback a localStorage
            });

            // Función para manejar los clics en los enlaces de descarga
            const handleDownloadClick = async (event) => {
                const link = event.currentTarget;
                const volumeId = link.getAttribute('data-volume-id');
                
                if (volumeId) {
                    // Incrementar el contador en Firestore
                    const success = await incrementCounter(volumeId);
                    
                    if (success) {
                        // Actualizar el contador en el DOM
                        const counterId = `downloads-${volumeId}`;
                        const counter = document.getElementById(counterId);
                        
                        if (counter) {
                            // Obtener el nuevo valor
                            const newCount = await getCounter(volumeId);
                            counter.textContent = newCount;
                        }
                    }
                }
            };

            // Agregar event listeners a todos los enlaces de descarga
            const downloadLinks = document.querySelectorAll('a[data-volume-id]');
            downloadLinks.forEach(link => {
                link.addEventListener('click', handleDownloadClick);
            });

            // Botón de reseteo
            const resetButton = document.getElementById('reset-individual-counters');
            
            if (resetButton) {
                resetButton.addEventListener('click', async () => {
                    if (confirm('¿Estás seguro de que quieres reiniciar todos los contadores individuales de descarga? Esta acción no se puede deshacer.')) {
                        const individualCounters = document.querySelectorAll('.download-count');
                        
                        // Array de promesas para reiniciar todos los contadores
                        const resetPromises = [];
                        individualCounters.forEach(counter => {
                            const counterId = counter.id.replace('downloads-', '');
                            resetPromises.push(resetCounter(counterId).then(() => {
                                counter.textContent = '0';
                            }));
                        });
                        
                        try {
                            await Promise.all(resetPromises);
                            
                            // Mostrar notificación
                            const notification = document.createElement('div');
                            notification.className = 'reset-notification';
                            notification.textContent = 'Todos los contadores individuales han sido reiniciados.';
                            document.body.appendChild(notification);
                            
                            // Eliminar la notificación después de 3 segundos
                            setTimeout(() => {
                                notification.style.opacity = '0';
                                setTimeout(() => {
                                    document.body.removeChild(notification);
                                }, 500);
                            }, 3000);
                            
                            console.log("Todos los contadores individuales de descarga han sido reiniciados a 0.");
                        } catch (error) {
                            console.error("Error al reiniciar los contadores:", error);
                        }
                    }
                });
            }
        } catch (error) {
            console.error("Error al usar Firebase, usando localStorage como fallback:", error);
            initializeWithLocalStorage();
        }
    });

    // Fallback a localStorage si Firebase no está disponible
    function initializeWithLocalStorage() {
        console.log("Usando localStorage para contadores individuales");
        
        // Inicializar contadores desde localStorage
        const initializeCounters = () => {
            const individualCounters = document.querySelectorAll('.download-count');
            
            individualCounters.forEach(counter => {
                const counterId = counter.id;
                const storedCount = localStorage.getItem(counterId) || '0';
                counter.textContent = storedCount;
            });
        };
        
        initializeCounters();
        
        // Función para manejar los clics en los enlaces de descarga
        const handleDownloadClick = (event) => {
            const link = event.currentTarget;
            const volumeId = link.getAttribute('data-volume-id');
            
            if (volumeId) {
                const counterId = `downloads-${volumeId}`;
                const counter = document.getElementById(counterId);
                
                if (counter) {
                    let currentCount = parseInt(counter.textContent) || 0;
                    currentCount++;
                    counter.textContent = currentCount;
                    localStorage.setItem(counterId, currentCount.toString());
                }
            }
        };
        
        // Agregar event listeners a todos los enlaces de descarga
        const downloadLinks = document.querySelectorAll('a[data-volume-id]');
        downloadLinks.forEach(link => {
            link.addEventListener('click', handleDownloadClick);
        });
        
        // Botón de reseteo
        const resetButton = document.getElementById('reset-individual-counters');
        
        if (resetButton) {
            resetButton.addEventListener('click', () => {
                if (confirm('¿Estás seguro de que quieres reiniciar todos los contadores individuales de descarga? Esta acción no se puede deshacer.')) {
                    const individualCounters = document.querySelectorAll('.download-count');
                    
                    individualCounters.forEach(counter => {
                        const counterId = counter.id;
                        localStorage.setItem(counterId, '0');
                        counter.textContent = '0';
                    });
                    
                    // Mostrar notificación
                    const notification = document.createElement('div');
                    notification.className = 'reset-notification';
                    notification.textContent = 'Todos los contadores individuales han sido reiniciados.';
                    document.body.appendChild(notification);
                    
                    // Eliminar la notificación después de 3 segundos
                    setTimeout(() => {
                        notification.style.opacity = '0';
                        setTimeout(() => {
                            document.body.removeChild(notification);
                        }, 500);
                    }, 3000);
                }
            });
        }
    }
</script>
    
    <!-- Estilos para el botón y notificación -->
    <style>
        .reset-individual-container {
            text-align: center;
            margin: 30px 0;
            padding: 20px;
        }
        
        .reset-button {
            background-color: #ff5757;
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 16px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .reset-button:hover {
            background-color: #e63946;
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }
        
        .reset-button:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .reset-notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: rgba(76, 175, 80, 0.9);
            color: white;
            padding: 15px 20px;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            font-size: 14px;
            transition: opacity 0.5s ease;
        }
    </style>
    
</body>
</html>